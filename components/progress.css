/**
 * =========================================================
 * BOAT UI â€” Progress
 * =========================================================
 *
 * Usage:
 *   <!-- Bar -->
 *   <div class="progress" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100">
 *     <div class="progress-bar" style="width: 60%"></div>
 *   </div>
 *
 *   <!-- With label -->
 *   <div class="progress progress-lg">
 *     <div class="progress-bar progress-bar-success" style="width: 75%">
 *       <span class="progress-label">75%</span>
 *     </div>
 *   </div>
 *
 *   <!-- Circular -->
 *   <div class="progress-circle" style="--progress: 65">
 *     <span class="progress-circle-label">65%</span>
 *   </div>
 * =========================================================
 */

/* -------------------------------------------------------
 * Progress bar track
 * ------------------------------------------------------- */

.progress {
    display: flex;
    height: 0.5rem;
    width: 100%;
    background: var(--color-bg-subtle);
    border-radius: var(--radius-full);
    overflow: hidden;
}

/* Size variants */
.progress-xs {
    height: 0.25rem;
}

.progress-sm {
    height: 0.375rem;
}

.progress-md {
    height: 0.5rem;
}

.progress-lg {
    height: 0.75rem;
}

.progress-xl {
    height: 1rem;
}

/* -------------------------------------------------------
 * Progress bar fill
 * ------------------------------------------------------- */

.progress-bar {
    height: 100%;
    background: var(--color-brand);
    border-radius: var(--radius-full);
    transition: width var(--duration-500) var(--ease-out);
    display: flex;
    align-items: center;
    justify-content: flex-end;
    padding-right: var(--space-2);
    min-width: 0;
    overflow: hidden;
}

/* Color variants */
.progress-bar-success {
    background: var(--color-success);
}

.progress-bar-warning {
    background: var(--color-warning);
}

.progress-bar-danger {
    background: var(--color-danger);
}

.progress-bar-info {
    background: var(--color-info);
}

/* Gradient */
.progress-bar-gradient {
    background: linear-gradient(90deg, var(--color-primary-400), var(--color-primary-600));
}

/* Striped */
.progress-bar-striped {
    background-image: linear-gradient(45deg,
            rgba(255, 255, 255, 0.15) 25%,
            transparent 25%,
            transparent 50%,
            rgba(255, 255, 255, 0.15) 50%,
            rgba(255, 255, 255, 0.15) 75%,
            transparent 75%,
            transparent);
    background-size: 1rem 1rem;
}

/* Animated stripes */
.progress-bar-animated {
    animation: progress-stripes 1s linear infinite;
}

@keyframes progress-stripes {
    from {
        background-position: 1rem 0;
    }

    to {
        background-position: 0 0;
    }
}

/* Indeterminate */
.progress-bar-indeterminate {
    width: 40% !important;
    animation: progress-indeterminate 1.5s ease-in-out infinite;
}

@keyframes progress-indeterminate {
    0% {
        transform: translateX(-150%);
    }

    100% {
        transform: translateX(350%);
    }
}

/* -------------------------------------------------------
 * Inline label
 * ------------------------------------------------------- */

.progress-label {
    font-size: var(--text-xs);
    font-weight: var(--font-weight-semibold);
    color: white;
    white-space: nowrap;
}

/* -------------------------------------------------------
 * Stacked / multi-bar
 * ------------------------------------------------------- */

.progress-stacked {
    display: flex;
    height: 0.75rem;
    width: 100%;
    background: var(--color-bg-subtle);
    border-radius: var(--radius-full);
    overflow: hidden;
}

.progress-stacked .progress-bar {
    border-radius: 0;
}

.progress-stacked .progress-bar:first-child {
    border-radius: var(--radius-full) 0 0 var(--radius-full);
}

.progress-stacked .progress-bar:last-child {
    border-radius: 0 var(--radius-full) var(--radius-full) 0;
}

/* -------------------------------------------------------
 * Circular progress (CSS custom property driven)
 * --progress: 0-100
 * ------------------------------------------------------- */

.progress-circle {
    --size: 5rem;
    --stroke: 6px;
    --progress: 0;
    --circumference: 125.66;
    /* 2 * pi * 20 */
    --offset: calc(var(--circumference) * (1 - var(--progress) / 100));

    position: relative;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: var(--size);
    height: var(--size);
}

.progress-circle::before,
.progress-circle::after {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: 50%;
}

/* Track ring */
.progress-circle::before {
    border: var(--stroke) solid var(--color-bg-subtle);
}

/* Progress ring using conic-gradient */
.progress-circle::after {
    background: conic-gradient(var(--color-brand) calc(var(--progress) * 1%),
            transparent 0);
    -webkit-mask: radial-gradient(farthest-side,
            transparent calc(100% - var(--stroke) - 1px),
            #000 calc(100% - var(--stroke)));
    mask: radial-gradient(farthest-side,
            transparent calc(100% - var(--stroke) - 1px),
            #000 calc(100% - var(--stroke)));
}

.progress-circle-label {
    position: relative;
    z-index: 1;
    font-size: var(--text-sm);
    font-weight: var(--font-weight-semibold);
    color: var(--color-text);
}

/* Size variants */
.progress-circle-sm {
    --size: 3.5rem;
    --stroke: 4px;
}

.progress-circle-lg {
    --size: 7rem;
    --stroke: 8px;
}

.progress-circle-xl {
    --size: 9rem;
    --stroke: 10px;
}

/* Color variants */
.progress-circle-success::after {
    background: conic-gradient(var(--color-success) calc(var(--progress) * 1%), transparent 0);
}

.progress-circle-warning::after {
    background: conic-gradient(var(--color-warning) calc(var(--progress) * 1%), transparent 0);
}

.progress-circle-danger::after {
    background: conic-gradient(var(--color-danger) calc(var(--progress) * 1%), transparent 0);
}